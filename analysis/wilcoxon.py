import numpy as np
from scipy.stats import wilcoxon

'''
Instância;GRASP1;GRASP2;GRASP3
burma14;30;30;30
t1;38;38;38
t2;36;36;36
t3;40;38;37
berlin52;7.780;7.765;7.967
t1;15.580;15.680;15.561
t2;10.458;10.466;10.721
t3;12.934;13.098;12.922
st70;705;697;691
t1;726;728;721
t2;764;760;772
t3;859;862;872
t4;1.114;1.092;1.110
gil262;2.520;2.495;2.543
t1;3.498;3.488;3.489
t2;3.249;3.261;3.257
gr666;3.281;3.251;3.277
dsj1000;19.821.323;19.921.154;19.967.668
'''

grasp_data = {
    'burma14': [30, 30, 30],
    't1_burma14': [38, 38, 38],
    't2_burma14': [36, 36, 36],
    't3_burma14': [40, 38, 37],
    'berlin52': [7.780, 7.765, 7.967],
    't1_berlin52': [15.580, 15.680, 15.561],
    't2_berlin52': [10.458, 10.466, 10.721],
    't3_berlin52': [12.934, 13.098, 12.922],
    'st70': [705, 697, 691],
    't1_st70': [726, 728, 721],
    't2_st70': [764, 760, 772],
    't3_st70': [859, 862, 872],
    't4_st70': [1114, 1092, 1110],
    'gil262': [2.520, 2.495, 2.543],
    't1_gil262': [3.498, 3.488, 3.489],
    't2_gil262': [3.249, 3.261, 3.257],
    'gr666': [3.281, 3.251, 3.277],
    'dsj1000': [19821323, 19921154, 19967668]
}

'''
Instância;TS1;TS2;TS3
burma14;30;30;30
t1;38;38;38
t2;36;36;36
t3;36;36;37
berlin52;7.542;7.704;7.663
t1;15.552;15.569;15.535
t2;10.458;10.466;10.466
t3;12.978;12.915;12.869
st70;684;694;690
t1;723;719;732
t2;766;772;759
t3;853;851;855
t4;1.090;1.099;1.095
gil262;2.536;2.545;2.513
t1;3.490;3.501;3.504
t2;3.264;3.257;3.242
gr666;3.292;3.301;3.309
dsj1000;20.145.223;20.062.277;20.252.162
'''

ts_data = {
    "burma14": [30, 30, 30],
    "t1_burma14": [38, 38, 38],
    "t2_burma14": [36, 36, 36],
    "t3_burma14": [36, 36, 37],
    "berlin52": [7.542, 7.704, 7.663],
    "t1_berlin52": [15.552, 15.569, 15.535],
    "t2_berlin52": [10.458, 10.466, 10.466],
    "t3_berlin52": [12.978, 12.915, 12.869],
    "st70": [684, 694, 690],
    "t1_st70": [723, 719, 732],
    "t2_st70": [766, 772, 759],
    "t3_st70": [853, 851, 855],
    "t4_st70": [1090, 1099, 1095],
    "gil262": [2.536, 2.545, 2.513],
    "t1_gil262": [3.490, 3.501, 3.504],
    "t2_gil262": [3.264, 3.257, 3.242],
    "gr666": [3.292, 3.301, 3.309],
    "dsj1000": [20145223, 20062277, 20252162]
}

for key in grasp_data:
    diffs = np.array(grasp_data[key]) - np.array(ts_data[key])

    if np.all(diffs == 0):
        print(f"{key}: todas as diferenças são 0 → p-valor = 1.0 (sem variação)\n")
        continue

    stat, p = wilcoxon(grasp_data[key], ts_data[key], zero_method='wilcox')
    print(f"{key}: estatística={stat:.4f}, p-valor={p:.4f}\n")
